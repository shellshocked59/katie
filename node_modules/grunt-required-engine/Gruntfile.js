module.exports = function(grunt) {
    
    // Project configuration.
	grunt.initConfig({
		pkg: grunt.file.readJSON('package.json'),
		mochaTest: {
			test: {
				options: {
					reporter: 'spec',
					captureFile: 'testresult/results.txt', // Optionally capture the reporter output to a file
					quiet: false, // Optionally suppress output to standard out (defaults to false)
					clearRequireCache: false // Optionally clear the require cache before running tests (defaults to false)
				},
				src: ['test/*-spec.js']
			}
		},
        requiredEngine: {
            main: {
                options: {
                    includeDev: true,
                    writeOnPackage: true
                }
            }
        }
	});
    
    require('./tasks/required-engine')(grunt);
	grunt.loadNpmTasks('grunt-mocha-test');

	grunt.registerTask('default', ['mochaTest:test']);
	grunt.registerTask('test', ['mochaTest:test']);
    grunt.registerTask('rengine', ['requiredEngine:main']);
};